!function(e){function t(t){for(var o,s,i=t[0],c=t[1],l=t[2],d=0,p=[];d<i.length;d++)s=i[d],r[s]&&p.push(r[s][0]),r[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);for(u&&u(t);p.length;)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(o=!1)}o&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},r={0:0},a=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/auth/resources/4.5.0.final/account/keycloak/js/";var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;a.push([139,1]),n()}({133:function(e,t,n){var o={"./af":5,"./af.js":5,"./ar":6,"./ar-dz":7,"./ar-dz.js":7,"./ar-kw":8,"./ar-kw.js":8,"./ar-ly":9,"./ar-ly.js":9,"./ar-ma":10,"./ar-ma.js":10,"./ar-sa":11,"./ar-sa.js":11,"./ar-tn":12,"./ar-tn.js":12,"./ar.js":6,"./az":13,"./az.js":13,"./be":14,"./be.js":14,"./bg":15,"./bg.js":15,"./bm":16,"./bm.js":16,"./bn":17,"./bn.js":17,"./bo":18,"./bo.js":18,"./br":19,"./br.js":19,"./bs":20,"./bs.js":20,"./ca":21,"./ca.js":21,"./cs":22,"./cs.js":22,"./cv":23,"./cv.js":23,"./cy":24,"./cy.js":24,"./da":25,"./da.js":25,"./de":26,"./de-at":27,"./de-at.js":27,"./de-ch":28,"./de-ch.js":28,"./de.js":26,"./dv":29,"./dv.js":29,"./el":30,"./el.js":30,"./en-au":31,"./en-au.js":31,"./en-ca":32,"./en-ca.js":32,"./en-gb":33,"./en-gb.js":33,"./en-ie":34,"./en-ie.js":34,"./en-il":35,"./en-il.js":35,"./en-nz":36,"./en-nz.js":36,"./eo":37,"./eo.js":37,"./es":38,"./es-do":39,"./es-do.js":39,"./es-us":40,"./es-us.js":40,"./es.js":38,"./et":41,"./et.js":41,"./eu":42,"./eu.js":42,"./fa":43,"./fa.js":43,"./fi":44,"./fi.js":44,"./fo":45,"./fo.js":45,"./fr":46,"./fr-ca":47,"./fr-ca.js":47,"./fr-ch":48,"./fr-ch.js":48,"./fr.js":46,"./fy":49,"./fy.js":49,"./gd":50,"./gd.js":50,"./gl":51,"./gl.js":51,"./gom-latn":52,"./gom-latn.js":52,"./gu":53,"./gu.js":53,"./he":54,"./he.js":54,"./hi":55,"./hi.js":55,"./hr":56,"./hr.js":56,"./hu":57,"./hu.js":57,"./hy-am":58,"./hy-am.js":58,"./id":59,"./id.js":59,"./is":60,"./is.js":60,"./it":61,"./it.js":61,"./ja":62,"./ja.js":62,"./jv":63,"./jv.js":63,"./ka":64,"./ka.js":64,"./kk":65,"./kk.js":65,"./km":66,"./km.js":66,"./kn":67,"./kn.js":67,"./ko":68,"./ko.js":68,"./ky":69,"./ky.js":69,"./lb":70,"./lb.js":70,"./lo":71,"./lo.js":71,"./lt":72,"./lt.js":72,"./lv":73,"./lv.js":73,"./me":74,"./me.js":74,"./mi":75,"./mi.js":75,"./mk":76,"./mk.js":76,"./ml":77,"./ml.js":77,"./mn":78,"./mn.js":78,"./mr":79,"./mr.js":79,"./ms":80,"./ms-my":81,"./ms-my.js":81,"./ms.js":80,"./mt":82,"./mt.js":82,"./my":83,"./my.js":83,"./nb":84,"./nb.js":84,"./ne":85,"./ne.js":85,"./nl":86,"./nl-be":87,"./nl-be.js":87,"./nl.js":86,"./nn":88,"./nn.js":88,"./pa-in":89,"./pa-in.js":89,"./pl":90,"./pl.js":90,"./pt":91,"./pt-br":92,"./pt-br.js":92,"./pt.js":91,"./ro":93,"./ro.js":93,"./ru":94,"./ru.js":94,"./sd":95,"./sd.js":95,"./se":96,"./se.js":96,"./si":97,"./si.js":97,"./sk":98,"./sk.js":98,"./sl":99,"./sl.js":99,"./sq":100,"./sq.js":100,"./sr":101,"./sr-cyrl":102,"./sr-cyrl.js":102,"./sr.js":101,"./ss":103,"./ss.js":103,"./sv":104,"./sv.js":104,"./sw":105,"./sw.js":105,"./ta":106,"./ta.js":106,"./te":107,"./te.js":107,"./tet":108,"./tet.js":108,"./tg":109,"./tg.js":109,"./th":110,"./th.js":110,"./tl-ph":111,"./tl-ph.js":111,"./tlh":112,"./tlh.js":112,"./tr":113,"./tr.js":113,"./tzl":114,"./tzl.js":114,"./tzm":115,"./tzm-latn":116,"./tzm-latn.js":116,"./tzm.js":115,"./ug-cn":117,"./ug-cn.js":117,"./uk":118,"./uk.js":118,"./ur":119,"./ur.js":119,"./uz":120,"./uz-latn":121,"./uz-latn.js":121,"./uz.js":120,"./vi":122,"./vi.js":122,"./x-pseudo":123,"./x-pseudo.js":123,"./yo":124,"./yo.js":124,"./zh-cn":125,"./zh-cn.js":125,"./zh-hk":126,"./zh-hk.js":126,"./zh-tw":127,"./zh-tw.js":127};function r(e){var t=a(e);return n(t)}function a(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id=133},134:function(e,t,n){var o=n(135);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(137)(o,r);o.locals&&(e.exports=o.locals)},135:function(e,t,n){(e.exports=n(136)(!1)).push([e.i,"html,\nbody,\nul,\nol {\n  margin: 0;\n  padding: 0; }\n\nlabel, h1, div#content, table, button, input {\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 21px;\n  -moz-osx-font-smoothing: grayscale; }\n\nlabel {\n  font-weight: 700;\n  font-size: 12px;\n  line-height: 16px; }\n\nh1 {\n  font-weight: 700;\n  font-size: 24px;\n  line-height: 32px; }\n\nbody {\n  font: 100% Montserrat, Arial, sans-serif;\n  color: #fafafa;\n  background-color: #333; }\n\ndiv#root {\n  display: flex;\n  justify-content: center; }\n\ndiv#content {\n  width: 1400px;\n  padding: 50px;\n  display: flex;\n  flex-direction: column; }\n\ndiv.container {\n  background-color: #212121;\n  border-radius: 3px;\n  margin: 50px;\n  padding: 50px; }\n\ndiv.center {\n  display: flex;\n  justify-content: center; }\n\n.spacer {\n  margin-bottom: 25px; }\n\n.column {\n  flex-direction: column; }\n\n.flex {\n  display: flex; }\n\n.align-start {\n  align-items: flex-start; }\n\n.margin-bottom {\n  margin-bottom: 25px; }\n\n.formfield {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 25px; }\n\ntable {\n  border-collapse: collapse;\n  width: 100%; }\n  table td,\n  table th {\n    padding: 10px; }\n\n@keyframes fadein {\n  from {\n    height: 0px; }\n  to {\n    height: 256px; } }\n\n.fadein {\n  animation: fadein 500ms; }\n\nbutton {\n  border: 1px solid #ea5953;\n  background-color: #ea5953;\n  color: #fafafa;\n  border-radius: 3px;\n  font-size: 16px;\n  font-weight: 700;\n  padding: 7px;\n  cursor: pointer;\n  width: 220px; }\n\ninput {\n  background-color: transparent;\n  border-style: none none solid;\n  border-width: 0px 0px 1px;\n  border-color: currentcolor currentcolor #333333;\n  outline: currentcolor none 0px;\n  padding-bottom: 10px;\n  padding-top: 7px;\n  color: white; }\n\nh1 {\n  margin-bottom: 25px; }\n",""])},139:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n(2),a=function(e,t,n,o){return void 0===n&&(n=void 0),void 0===o&&(o=void 0),new Promise(function(r,a){var s=window.keycloakUrl?window.keycloakUrl:"https://auth.hanko.io/auth/",i=window.realmId?window.realmId:"Hanko";e.updateToken(30).success(function(a){var c=s+"realms/"+i+t,l=o?{authorization:"Bearer "+e.token,"Content-Type":"application/json"}:{authorization:"Bearer "+e.token},u={method:n||"GET",headers:l,body:o?JSON.stringify(o):null};fetch(c,u).then(function(e){return e.json()}).then(function(e){return r(e)}).catch(function(e){return r(void 0)})})})},s=n(0),i=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.deregister=function(){var e=n.props,t=e.device,o=e.keycloak,r=e.deviceDeletedHandler;a(o,"/hanko/devices/"+t.deviceId,"DELETE").then(function(e){r()})},n}return i(t,e),t.prototype.render=function(){var e=this.props.device;return o.createElement("tr",null,o.createElement("td",null,e.name),o.createElement("td",null,e.type),o.createElement("td",null,s(e.createdAt).fromNow()),o.createElement("td",null,s(e.lastUsage).fromNow()),o.createElement("td",null,o.createElement("button",{onClick:this.deregister},"deregister")))},t}(o.Component),l=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={devices:void 0},n}return l(t,e),t.prototype.render=function(){var e=this.props,t=e.devices,n=e.keycloak,r=e.deviceDeletedHandler;return 0===t.length?o.createElement("div",null,"no devices registered"):o.createElement("table",null,o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Name"),o.createElement("th",null,"Type"),o.createElement("th",null,"Created At"),o.createElement("th",null,"Last Activity"),o.createElement("th",null))),o.createElement("tbody",null,t.map(function(e,t){return o.createElement(c,{device:e,key:t,keycloak:n,deviceDeletedHandler:r})})))},t}(o.Component),d=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),p=function(e){function t(t){var n=e.call(this,t)||this;return n.requestQrCode=function(){var e=n.props.keycloak;a(e,"/hanko/register","POST").then(function(e){n.setState({qrCode:e.qrCode}),n.updateState()})},n.cancel=function(){(0,n.props.cancelHandler)()},n.updateState=function(){var e=n.props.keycloak;a(e,"/hanko/register/complete","POST").then(function(e){switch(e.status){case"PENDING":n.timerId=window.setTimeout(n.updateState,1e3);break;case"OK":n.setState({qrCode:void 0}),(0,n.props.completionHandler)();break;default:n.setState({qrCode:void 0}),n.cancel()}})},n.state={qrCode:void 0},n}return d(t,e),t.prototype.componentDidMount=function(){this.requestQrCode()},t.prototype.componentWillUnmount=function(){clearTimeout(this.timerId)},t.prototype.render=function(){var e=this.state.qrCode;return o.createElement("div",{className:"flex column align-start"},o.createElement("h1",null,"Register new Hanko Authenticator"),e?o.createElement("div",{className:"margin-bottom"},o.createElement("img",{src:e+"?fg=0&bg=ffffff",className:"fadein"})):null,o.createElement("button",{onClick:this.cancel},"cancel"))},t}(o.Component),f=function(e){return{name:e.keyName,type:"FIDO_UAF"==e.authenticatorType?"Hanko Authenticator":e.authenticatorType,createdAt:e.createdAt,lastUsage:e.lastUsage,deviceId:e.deviceId}},h=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),m=function(e){function t(t){var n=e.call(this,t)||this;return n.passwordChanged=function(e){n.setState({password:e.target.value})},n.passwordValidationChanged=function(e){n.setState({passwordValidation:e.target.value})},n.changePassword=function(){var e=n.props.keycloak,t=n.state,o=t.password,r=t.passwordValidation;if(o&&o.length>0){if(!(r&&r.length>0&&o===r))return void alert("passwords do not match");a(e,"/hanko/password","POST",{newPassword:o}).then(function(e){n.setState({password:"",passwordValidation:""}),alert("Password successfully changed")}).catch(function(e){console.error(e),alert("Oops, your password could not be updated.")})}else alert("password must not be empty")},n.state={password:"",passwordValidation:""},n}return h(t,e),t.prototype.render=function(){var e=this.state,t=e.password,n=e.passwordValidation;return o.createElement("div",{className:"container"},o.createElement("h1",null,"Change Password"),o.createElement("div",{className:"formfield"},o.createElement("label",null,"Password"),o.createElement("input",{type:"password",value:t,onChange:this.passwordChanged})),o.createElement("div",{className:"formfield"},o.createElement("label",null,"Password (repeat)"),o.createElement("input",{type:"password",value:n,onChange:this.passwordValidationChanged})),o.createElement("button",{onClick:this.changePassword},"change"))},t}(o.Component),j=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),v=function(e){function t(t){var n=e.call(this,t)||this;return n.showAddHankoAuthenticator=function(){n.setState({showAddHankoAuthenticator:!0})},n.hideAddHankoAuthenticator=function(){n.setState({showAddHankoAuthenticator:!1})},n.completionHandler=function(){n.hideAddHankoAuthenticator(),n.setState({devices:void 0}),n.fetchDevices()},n.fetchDevices=function(){var e=n.props.keycloak;a(e,"/hanko/devices").then(function(e){var t=e.map(function(e){return f(e)});n.setState({devices:t})})},n.state={showAddHankoAuthenticator:!1,devices:void 0},n}return j(t,e),t.prototype.componentDidMount=function(){this.fetchDevices()},t.prototype.render=function(){var e=this.props.keycloak,t=this.state,n=t.showAddHankoAuthenticator,r=t.devices;return o.createElement("div",null,o.createElement("div",{id:"content"},o.createElement("div",{className:"center column"},o.createElement("div",{className:"container"},o.createElement("h1",null,"Registered Devices"),void 0===r?o.createElement("div",null,"Loading..."):o.createElement(u,{keycloak:e,devices:r,deviceDeletedHandler:this.fetchDevices}),o.createElement("div",{className:"margin-bottom"}),n?o.createElement(p,{keycloak:e,cancelHandler:this.hideAddHankoAuthenticator,completionHandler:this.completionHandler}):o.createElement("div",null,o.createElement("button",{onClick:this.showAddHankoAuthenticator},"Add Authenticator"))),o.createElement(m,{keycloak:e}))))},t}(o.Component),y=n(128),k=function(e){var t=e.keycloak;return o.createElement("div",null,o.createElement("h1",null,"Login failed"),o.createElement("button",{onClick:function(){t.login()}},"Try again"))};n(134);var g=y({url:window.keycloakUrl?window.keycloakUrl:"https://auth.hanko.io/auth",realm:window.realmId?window.realmId:"Hanko",clientId:"hanko-account"});g.init({onLoad:"login-required"}).success(function(e){r.render(o.createElement(v,{keycloak:g}),document.getElementById("root"))}).error(function(){r.render(o.createElement(k,{keycloak:g}),document.getElementById("root"))})}});