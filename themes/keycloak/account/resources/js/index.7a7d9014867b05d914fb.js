!function(e){function t(t){for(var r,s,i=t[0],c=t[1],l=t[2],d=0,p=[];d<i.length;d++)s=i[d],o[s]&&p.push(o[s][0]),o[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);p.length;)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={0:0},a=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;a.push([133,1]),n()}({131:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),o=function(e){var t=e.keycloak;return r.createElement("div",null,r.createElement("h1",null,"Login failed"),r.createElement("button",{onClick:function(){t.login()}},"Try again"))}},132:function(e,t,n){"use strict";var r=n(1),o=n(2),a=n(0),s=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t){var n=e.call(this,t)||this;return n.deregister=function(){var e=n.props,t=e.device,r=e.keycloak,a=e.deviceDeletedHandler;Object(o.a)(r,"/hanko/devices/"+t.deviceId,"DELETE").then(function(e){a()})},n}return s(t,e),t.prototype.render=function(){var e=this.props.device;return r.createElement("tr",null,r.createElement("td",null,e.name),r.createElement("td",null,e.type),r.createElement("td",null,a(e.createdAt).fromNow()),r.createElement("td",null,a(e.lastUsage).fromNow()),r.createElement("td",null,r.createElement("button",{onClick:this.deregister},"deregister")))},t}(r.Component),c=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={devices:void 0},n}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.devices,n=e.keycloak,o=e.deviceDeletedHandler;return 0===t.length?r.createElement("div",null,"no devices registered"):r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Name"),r.createElement("th",null,"Type"),r.createElement("th",null,"Created At"),r.createElement("th",null,"Last Activity"),r.createElement("th",null))),r.createElement("tbody",null,t.map(function(e,t){return r.createElement(i,{device:e,key:t,keycloak:n,deviceDeletedHandler:o})})))},t}(r.Component),u=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(e){function t(t){var n=e.call(this,t)||this;return n.requestQrCode=function(){var e=n.props.keycloak;Object(o.a)(e,"/hanko/register","POST").then(function(e){n.setState({qrCode:e.qrCode}),n.updateState()})},n.cancel=function(){(0,n.props.cancelHandler)()},n.updateState=function(){var e=n.props.keycloak;Object(o.a)(e,"/hanko/register/complete","POST").then(function(e){switch(e.status){case"PENDING":n.timerId=window.setTimeout(n.updateState,1e3);break;case"OK":n.setState({qrCode:void 0}),(0,n.props.completionHandler)();break;default:n.setState({qrCode:void 0}),n.cancel()}})},n.state={qrCode:void 0},n}return u(t,e),t.prototype.componentDidMount=function(){this.requestQrCode()},t.prototype.componentWillUnmount=function(){clearTimeout(this.timerId)},t.prototype.render=function(){var e=this.state.qrCode;return r.createElement("div",{className:"flex column align-start"},r.createElement("h1",null,"Register new Hanko Authenticator"),e?r.createElement("div",{className:"margin-bottom"},r.createElement("img",{src:e+"?fg=0&bg=ffffff",className:"fadein"})):null,r.createElement("button",{onClick:this.cancel},"cancel"))},t}(r.Component),p=function(e){return{name:e.keyName,type:"FIDO_UAF"==e.authenticatorType?"Hanko Authenticator":e.authenticatorType,createdAt:e.createdAt,lastUsage:e.lastUsage,deviceId:e.deviceId}},f=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(e){function t(t){var n=e.call(this,t)||this;return n.passwordChanged=function(e){n.setState({password:e.target.value})},n.passwordValidationChanged=function(e){n.setState({passwordValidation:e.target.value})},n.changePassword=function(){var e=n.props.keycloak,t=n.state,r=t.password,a=t.passwordValidation;if(r&&r.length>0){if(!(a&&a.length>0&&r===a))return void alert("passwords do not match");Object(o.a)(e,"/hanko/password","POST",{newPassword:r}).then(function(e){n.setState({password:"",passwordValidation:""}),alert("Password successfully changed")}).catch(function(e){console.error(e),alert("Oops, your password could not be updated.")})}else alert("password must not be empty")},n.state={password:"",passwordValidation:""},n}return f(t,e),t.prototype.render=function(){var e=this.state,t=e.password,n=e.passwordValidation;return r.createElement("div",{className:"container"},r.createElement("h1",null,"Change Password"),r.createElement("div",{className:"formfield"},r.createElement("label",null,"Password"),r.createElement("input",{type:"password",value:t,onChange:this.passwordChanged})),r.createElement("div",{className:"formfield"},r.createElement("label",null,"Password (repeat)"),r.createElement("input",{type:"password",value:n,onChange:this.passwordValidationChanged})),r.createElement("button",{onClick:this.changePassword},"change"))},t}(r.Component);n.d(t,"a",function(){return j});var m=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),j=function(e){function t(t){var n=e.call(this,t)||this;return n.showAddHankoAuthenticator=function(){n.setState({showAddHankoAuthenticator:!0})},n.hideAddHankoAuthenticator=function(){n.setState({showAddHankoAuthenticator:!1})},n.completionHandler=function(){n.hideAddHankoAuthenticator(),n.setState({devices:void 0}),n.fetchDevices()},n.fetchDevices=function(){var e=n.props.keycloak;Object(o.a)(e,"/hanko/devices").then(function(e){var t=e.map(function(e){return p(e)});n.setState({devices:t})})},n.state={showAddHankoAuthenticator:!1,devices:void 0},n}return m(t,e),t.prototype.componentDidMount=function(){this.fetchDevices()},t.prototype.render=function(){var e=this.props.keycloak,t=this.state,n=t.showAddHankoAuthenticator,o=t.devices;return r.createElement("div",null,r.createElement("div",{id:"content"},r.createElement("div",{className:"center column"},r.createElement("div",{className:"container"},r.createElement("h1",null,"Registered Devices"),void 0===o?r.createElement("div",null,"Loading..."):r.createElement(l,{keycloak:e,devices:o,deviceDeletedHandler:this.fetchDevices}),r.createElement("div",{className:"margin-bottom"}),n?r.createElement(d,{keycloak:e,cancelHandler:this.hideAddHankoAuthenticator,completionHandler:this.completionHandler}):r.createElement("div",null,r.createElement("button",{onClick:this.showAddHankoAuthenticator},"Add Authenticator"))),r.createElement(h,{keycloak:e}))))},t}(r.Component)},133:function(e,t,n){"use strict";n.r(t),function(e){var t=n(1),r=n(3),o=n(132),a=n(130),s=n(131);n(139);var i=a({url:e.env.KEYCLOAK_URL+"/auth",realm:""+e.env.KEYCLOAK_REALM,clientId:"hanko-account"});i.init({onLoad:"login-required"}).success(function(e){r.render(t.createElement(o.a,{keycloak:i}),document.getElementById("root"))}).error(function(){r.render(t.createElement(s.a,{keycloak:i}),document.getElementById("root"))})}.call(this,n(4))},138:function(e,t,n){var r={"./af":7,"./af.js":7,"./ar":8,"./ar-dz":9,"./ar-dz.js":9,"./ar-kw":10,"./ar-kw.js":10,"./ar-ly":11,"./ar-ly.js":11,"./ar-ma":12,"./ar-ma.js":12,"./ar-sa":13,"./ar-sa.js":13,"./ar-tn":14,"./ar-tn.js":14,"./ar.js":8,"./az":15,"./az.js":15,"./be":16,"./be.js":16,"./bg":17,"./bg.js":17,"./bm":18,"./bm.js":18,"./bn":19,"./bn.js":19,"./bo":20,"./bo.js":20,"./br":21,"./br.js":21,"./bs":22,"./bs.js":22,"./ca":23,"./ca.js":23,"./cs":24,"./cs.js":24,"./cv":25,"./cv.js":25,"./cy":26,"./cy.js":26,"./da":27,"./da.js":27,"./de":28,"./de-at":29,"./de-at.js":29,"./de-ch":30,"./de-ch.js":30,"./de.js":28,"./dv":31,"./dv.js":31,"./el":32,"./el.js":32,"./en-au":33,"./en-au.js":33,"./en-ca":34,"./en-ca.js":34,"./en-gb":35,"./en-gb.js":35,"./en-ie":36,"./en-ie.js":36,"./en-il":37,"./en-il.js":37,"./en-nz":38,"./en-nz.js":38,"./eo":39,"./eo.js":39,"./es":40,"./es-do":41,"./es-do.js":41,"./es-us":42,"./es-us.js":42,"./es.js":40,"./et":43,"./et.js":43,"./eu":44,"./eu.js":44,"./fa":45,"./fa.js":45,"./fi":46,"./fi.js":46,"./fo":47,"./fo.js":47,"./fr":48,"./fr-ca":49,"./fr-ca.js":49,"./fr-ch":50,"./fr-ch.js":50,"./fr.js":48,"./fy":51,"./fy.js":51,"./gd":52,"./gd.js":52,"./gl":53,"./gl.js":53,"./gom-latn":54,"./gom-latn.js":54,"./gu":55,"./gu.js":55,"./he":56,"./he.js":56,"./hi":57,"./hi.js":57,"./hr":58,"./hr.js":58,"./hu":59,"./hu.js":59,"./hy-am":60,"./hy-am.js":60,"./id":61,"./id.js":61,"./is":62,"./is.js":62,"./it":63,"./it.js":63,"./ja":64,"./ja.js":64,"./jv":65,"./jv.js":65,"./ka":66,"./ka.js":66,"./kk":67,"./kk.js":67,"./km":68,"./km.js":68,"./kn":69,"./kn.js":69,"./ko":70,"./ko.js":70,"./ky":71,"./ky.js":71,"./lb":72,"./lb.js":72,"./lo":73,"./lo.js":73,"./lt":74,"./lt.js":74,"./lv":75,"./lv.js":75,"./me":76,"./me.js":76,"./mi":77,"./mi.js":77,"./mk":78,"./mk.js":78,"./ml":79,"./ml.js":79,"./mn":80,"./mn.js":80,"./mr":81,"./mr.js":81,"./ms":82,"./ms-my":83,"./ms-my.js":83,"./ms.js":82,"./mt":84,"./mt.js":84,"./my":85,"./my.js":85,"./nb":86,"./nb.js":86,"./ne":87,"./ne.js":87,"./nl":88,"./nl-be":89,"./nl-be.js":89,"./nl.js":88,"./nn":90,"./nn.js":90,"./pa-in":91,"./pa-in.js":91,"./pl":92,"./pl.js":92,"./pt":93,"./pt-br":94,"./pt-br.js":94,"./pt.js":93,"./ro":95,"./ro.js":95,"./ru":96,"./ru.js":96,"./sd":97,"./sd.js":97,"./se":98,"./se.js":98,"./si":99,"./si.js":99,"./sk":100,"./sk.js":100,"./sl":101,"./sl.js":101,"./sq":102,"./sq.js":102,"./sr":103,"./sr-cyrl":104,"./sr-cyrl.js":104,"./sr.js":103,"./ss":105,"./ss.js":105,"./sv":106,"./sv.js":106,"./sw":107,"./sw.js":107,"./ta":108,"./ta.js":108,"./te":109,"./te.js":109,"./tet":110,"./tet.js":110,"./tg":111,"./tg.js":111,"./th":112,"./th.js":112,"./tl-ph":113,"./tl-ph.js":113,"./tlh":114,"./tlh.js":114,"./tr":115,"./tr.js":115,"./tzl":116,"./tzl.js":116,"./tzm":117,"./tzm-latn":118,"./tzm-latn.js":118,"./tzm.js":117,"./ug-cn":119,"./ug-cn.js":119,"./uk":120,"./uk.js":120,"./ur":121,"./ur.js":121,"./uz":122,"./uz-latn":123,"./uz-latn.js":123,"./uz.js":122,"./vi":124,"./vi.js":124,"./x-pseudo":125,"./x-pseudo.js":125,"./yo":126,"./yo.js":126,"./zh-cn":127,"./zh-cn.js":127,"./zh-hk":128,"./zh-hk.js":128,"./zh-tw":129,"./zh-tw.js":129};function o(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=138},139:function(e,t,n){var r=n(140);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(142)(r,o);r.locals&&(e.exports=r.locals)},140:function(e,t,n){(e.exports=n(141)(!1)).push([e.i,"html,\nbody,\nul,\nol {\n  margin: 0;\n  padding: 0; }\n\nlabel, h1, div#content, table, button, input {\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 21px;\n  -moz-osx-font-smoothing: grayscale; }\n\nlabel {\n  font-weight: 700;\n  font-size: 12px;\n  line-height: 16px; }\n\nh1 {\n  font-weight: 700;\n  font-size: 24px;\n  line-height: 32px; }\n\nbody {\n  font: 100% Montserrat, Arial, sans-serif;\n  color: #fafafa;\n  background-color: #333; }\n\ndiv#root {\n  display: flex;\n  justify-content: center; }\n\ndiv#content {\n  width: 1400px;\n  padding: 50px;\n  display: flex;\n  flex-direction: column; }\n\ndiv.container {\n  background-color: #212121;\n  border-radius: 3px;\n  margin: 50px;\n  padding: 50px; }\n\ndiv.center {\n  display: flex;\n  justify-content: center; }\n\n.spacer {\n  margin-bottom: 25px; }\n\n.column {\n  flex-direction: column; }\n\n.flex {\n  display: flex; }\n\n.align-start {\n  align-items: flex-start; }\n\n.margin-bottom {\n  margin-bottom: 25px; }\n\n.formfield {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 25px; }\n\ntable {\n  border-collapse: collapse;\n  width: 100%; }\n  table td,\n  table th {\n    padding: 10px; }\n\n@keyframes fadein {\n  from {\n    height: 0px; }\n  to {\n    height: 256px; } }\n\n.fadein {\n  animation: fadein 500ms; }\n\nbutton {\n  border: 1px solid #ea5953;\n  background-color: #ea5953;\n  color: #fafafa;\n  border-radius: 3px;\n  font-size: 16px;\n  font-weight: 700;\n  padding: 7px;\n  cursor: pointer;\n  width: 220px; }\n\ninput {\n  background-color: transparent;\n  border-style: none none solid;\n  border-width: 0px 0px 1px;\n  border-color: currentcolor currentcolor #333333;\n  outline: currentcolor none 0px;\n  padding-bottom: 10px;\n  padding-top: 7px;\n  color: white; }\n\nh1 {\n  margin-bottom: 25px; }\n",""])},2:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return r});var r=function(t,n,r,o){return void 0===r&&(r=void 0),void 0===o&&(o=void 0),new Promise(function(a,s){t.updateToken(30).success(function(s){var i=e.env.KEYCLOAK_URL+"/auth/realms/"+e.env.KEYCLOAK_REALM+n,c=o?{authorization:"Bearer "+t.token,"Content-Type":"application/json"}:{authorization:"Bearer "+t.token},l={method:r||"GET",headers:c,body:o?JSON.stringify(o):null};fetch(i,l).then(function(e){return e.json()}).then(function(e){return a(e)}).catch(function(e){return a(void 0)})})})}}).call(this,n(4))}});